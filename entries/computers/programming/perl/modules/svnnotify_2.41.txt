SVN::Notify 2.41 Adds Plain Text Issue Tracking Links
meta-keywords: SVN::Notify, svnnotify, Perl, Subversion, HTML, XHTML, email, subversion notification, RT, Request Tracker, Bugzilla, JIRA, ViewCVS

<p>I expect that this will be my last release of SVN::Notify for a while. I've already spent more time on it than I had anticipated. But anyway, this is a pretty solid release. It doesn't change the API or anything, but I feel that the jump from 2.30 to 2.40 is justified because of the sheer number of changes. From now on, I expect that it will mostly be maintenance, like 2.41, which fixes a minor formatting bug. Grab it now from <a href="http://search.cpan.org/dist/SVN-Notify/" title="SVN::Notify on CPAN">CPAN</a>.</p>

<p>First, I've added a new, <a href="/computers/programming/perl/modules/svnnotify-2.40_colordiff_example.html" title="SVN::Notify 2.41 sample ColorDiff output">complex example</a> of the SVN::Notify::HTML::ColorDiff output that I will keep up-to-date with all future changes. This will allow people to get a better idea of what it's capable of than my previous contrived examples allowed.</p>

<p>The biggest change is that I've moved the <a href="http://www.bestpractical.com/rt/" title="RT at Best Practical">Request Tracker</a>, <a href="http://bugzilla.mozilla.org/" title="Bugzilla home page">Bugzilla</a>, and <a href="http://www.atlassian.com/software/jira/" title="JIRA Website">JIRA</a> support from SVN::Notify::HTML to SVN::Notify. I realized, after the release of 2.30, that it might be cool to add links to the text-only email message generated by SVN::Notify, too. So I've done that, including for ViewCVS links. Unlike in SVN::Notify::HTML, the links won't be inline in the message (that doesn't work too well in plain text, IMO), but will come in their own sections after the message. So you'll get something like this (extreme example):</p>

<pre>Log Message:
&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;
Let's try a few links to other applications. First, we have
A Bugzilla Bug # 709. Then we have a JIRA key, TST-1608. And
finally, we have an RT link to Ticket # 4321.

Hey, we could add one to ViewCVS for a Subversion Revision
#606, too!

ViewCVS Links:
&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;
    http://viewsvn.bricolage.cc/?rev=606&amp;view=rev

Bugzilla Links:
&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;
    http://bugzilla.mozilla.org/show_bug.cgi?id=709

RT Links:
&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;
    http://rt.cpan.org/NoAuth/Bugs.html?id=4321

JIRA Links:
&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;&#x002d;
    http://jira.atlassian.com/secure/ViewIssue.jspa?key=TST-1608
</pre>

<p>The nice thing is that, for many mail clients, these will be turned into clickable links. You'll also notice that the text that creates the ViewCVS link is split over two lines. This is new in this release, and works for SVN::Notify::HTML, too. I made a few other tweaks to the regular expressions, as well. Here's a complete list of changes:</p>

<ul>
  <li>Fixed accessor generation so that accessors created for the
        attributes passed to <code>register_attributes()</code> but a subclass are
        created in the subclass' package instead of in SVN::Notify.</li>
  <li>Changed parsing for JIRA keys to use any set of capital letters
        followed by a dash and then a number, rather than the literal
        string <q>JIRA-</q> followed by a number. Reported by Garrett Rooney.</li>
  <li>Modified the regular expression patterns for the RT, Bugzilla,
        RT, and ViewCVS links to properly match on word boundaries, so
        that strings like <q>humbug 12</q> don't match.</li>
  <li>Modified the ViewCVS link regular expression pattern so that it
        matches strings like <q>rev 12</q> as well as <q>revision 12</q>.</li>
  <li>Modified the RT link regular expression pattern so that it
        matches strings like <q>RT-Ticket: 23</q> as well as <q>Ticket 1234</q>.
        Suggested by Jesse Vincent.</li>
  <li>Added complicated example to try to show off all of the major
        features. I will keep this up-to-date going forward in order to
        post sample output on the Web.</li>
  <li>Fixed the parsing of log messages so that empty lines are no
        longer eliminated.</li>
  <li>HTML::ColorDiff now properly handles the listing of binary files
        in the diff, marking them with a new class, <q>binary</q>, and using
        the same CSS as is used for the <q>propset</q> class.</li>
  <li>In HTML::ColorDiff, Fixed CSS for the <q>delfile</q> class to properly
        wrap it in a border like the other files in the diff.</li>
  <li>Added labels to the HTML::ColorDiff diff file sections to indicate
        the type of change (<q>Modified</q>, <q>Added</q>, <q>Deleted</q>, or <q>Property
        changes</q>).</li>
  <li>Moved the <code>rt_url</code>, <code>bugzilla_url</code>, and <code>jira_url</code> parameters from
        SVN::Notify::HTML to SVN::Notify, where they are used to add URLs
        to the text version of log messages.</li>
</ul>

<p>Enjoy!</p>
